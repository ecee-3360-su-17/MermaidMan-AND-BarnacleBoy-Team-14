
 .global fib

fib:
	push {lr}

case_zero:
	cmp r0, #0
	beq case_one
	mov r0, #0
	push {r0}
	mov pc, lr

case_one:
	cmp r0, #1
	beq fib_seq
	mov r0, #1
	push {r0}
	mov pc, lr

fib_seq:

	sub r7, r0, #1
	bl fib

	sub r8, r0, #2
	bl fib

	add r9, r8, r7

	push{r0}

	pop{r0}
	pop{lr}
	mov pc, lr
